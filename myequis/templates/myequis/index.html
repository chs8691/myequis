{% extends "base.html" %}


{% block nav-items %}
  {% if user.is_authenticated %}
    <li class="nav-item">
      <span class="navbar-text"> Hi {{ user.username }}! </span>
    </li>
    <li class="nav-item active">
        <a class="nav-link active" href="{% url 'logout' %}">Log Out</a>
    </li>
  {% else %}
    <li class="nav-item active">
      <a class="nav-link" href="{% url 'login' %}">Login</a>
    </li>
  {% endif %}
{% endblock %}

{% block main %}


  {% include "article-title.html" with title="Bicycles" %}

  {% if bicycles %}
    <table class="table table-hover">
      <thead>

        <tr>
          <th scope="col">Name</th>
        </tr>
      </thead>
      <tbody>
        {% for bicycle in bicycles %}
          <tr>
            <td>
                <a class="nav-link"  href="{% url 'myequis:bicycle-detail-url' bicycle.id %}">{{ bicycle.name }}</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>

  {% else %}

      <p>No bicycles yet</p>

  {% endif %}

  {% include "article-title.html" with title="Materials" %}

  {% include "nav-open.html" %}
    {% url 'myequis:list-materials-url' as nav_url %}
    {% include "nav-item.html" with url=nav_url title="Manage" %}
  {% include "nav-close.html" %}

  {% if materials %}

      <table class="table">
          <thead>
              <tr>
                  <th scope="col">Name</th>
                  <th scope="col">Manufacture</th>
                  <th scope="col" class="d-none d-md-block">Price</th>
              </tr>
          </thead>
          {% for material in materials %}
              <tr>
                  <td>{{ material.name }}</td>
                  <td>{{ material.manufacture }}</td>
                  <td class="d-none d-md-block">{{ material.price }}</td>
              </tr>
          {% endfor %}
      </table>

  {% else %}

      <p>No unused materials</p>

  {% endif %}

{% include "article-title.html" with title="Bulk Operations"%}

{% include "nav-open.html" %}

  {% url 'admin:index' as nav_url %}
  {% include "nav-item.html" with url=nav_url title="Admin" %}

  {% url 'myequis:export-url' as nav_url %}
  {% include "nav-item.html" with url=nav_url title="Export" %}

  {% url 'myequis:import-url' as nav_url %}
  {% include "nav-item.html" with url=nav_url title="Import" %}

{% include "nav-close.html" %}

{% endblock %}

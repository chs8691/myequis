{% extends "base.html" %}

{% block nav-items %}
{% endblock %}


{% block main %}

{% include "article-title.html" with title="New Materials" %}

{% include "nav-open.html" %}

{% url  'myequis:create-material-url' as nav_url %}
{% include "nav-item.html" with url=nav_url title="Add" %}

{% include "nav-close.html" %}

<div >

  {% if new_materials %}
  <div class="table-responsive">
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Material</th>
          <th scope="col">Size</th>
          <th scope="col">Weight</th>
          <th scope="col" class="d-none d-md-block">Price</th>
        </tr>
      </thead>
      {% for material in new_materials %}
      <tr>
        <td onclick="tdClick('{% url 'myequis:edit-material-url' material.id %}');">
          {{ material.name }} /
          {{ material.manufacture }}
          <div class="text-muted">
            {{ material.comment }}
          </div>
        </td>
        <td>{{ material.size }}</td>
        <td>{{ material.weight }}</td>
        <td   class="d-none d-md-block">{{ material.price }}</td>
      </tr>
      {% endfor %}
    </table>
  </div>
  {% else %}
  <p>Currently no new materials created.</p>
  {% endif %}

  {% include "article-title.html" with title="Mounted Materials" %}
  {% if mounted_materials %}
  <div class="table-responsive">
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Date</th>
          <th scope="col">Material</th>
          <th scope="col">Size</th>
          <th scope="col">Weight</th>
          <th scope="col" class="d-none d-md-block">Price</th>
        </tr>
      </thead>
      {% for material in mounted_materials %}
      <tr>
        <td onclick="tdClick('{% url 'myequis:material-history-url' material.id %}');">
          {{ material.mountedAt }}</td>
        <td onclick="tdClick('{% url 'myequis:edit-material-url' material.id %}');">
          {{ material.name }} /
          {{ material.manufacture }}
          <div class="text-muted">
            {{ material.comment }}
          </div>
          <div class="text-muted">
            {{ material.mountingComment }}
          </div>
        </td>
        <td>{{ material.size }}</td>
        <td>{{ material.weight }}</td>
        <td class="d-none d-md-block">{{ material.price }}</td>
      </tr>
      {% endfor %}
    </table>
  </div>
  {% else %}
  <p>Currently no materials mounted.</p>
  {% endif %}


  {% include "article-title.html" with title="Dismounted Materials" %}
  {% if dismounted_materials %}
  <div class="table-responsive">
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Date</th>
          <th scope="col">Material</th>
          <th scope="col">Size</th>
          <th scope="col">Weight</th>
          <th scope="col" class="d-none d-md-block">Price</th>
        </tr>
      </thead>
      {% for material in dismounted_materials %}
      <tr>
        <td onclick="tdClick('{% url 'myequis:material-history-url' material.id %}');">
          {{ material.dismountedAt }}</td>
        <td onclick="tdClick('{% url 'myequis:edit-material-url' material.id %}');">
          {{ material.name }} /
          {{ material.manufacture }}
          <div class="text-muted">
            {{ material.comment }}
          </div>
          <div class="text-muted">
            {{ material.dismountingComment }}
          </div>
        </td>
        <td>{{ material.size }}</td>
        <td>{{ material.weight }}</td>
        <td class="d-none d-md-block">{{ material.price }}</td>
      </tr>
      {% endfor %}
    </table>
  </div>
  {% else %}
  <p>Currently no materials dismounted.</p>
  {% endif %}


  {% include "article-title.html" with title="Disposed Materials" %}

  {% if disposed_materials %}
  <div class="table-responsive">
    <table  class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Date</th>
          <th scope="col">Material</th>
          <th scope="col">Size</th>
          <th scope="col">Weight</th>
          <th scope="col" class="d-none d-md-block">Price</th>
        </tr>
      </thead>
      {% for material in disposed_materials %}
      <tr>
        <td onclick="tdClick('{% url 'myequis:material-history-url' material.id %}');">
        {{ material.disposedAt }}</td>
        <td onclick="tdClick('{% url 'myequis:edit-material-url' material.id %}');">
          {{ material.name }} /
          {{ material.manufacture }}
          <div class="text-muted">
            {{ material.comment }}
          </div>
          <div class="text-muted">
            {{ material.dismountingComment }}
          </div>
        </td>
        <td>{{ material.size }}</td>
        <td>{{ material.weight }}</td>
        <td class="d-none d-md-block">{{ material.price }}</td>
      </tr>
      {% endfor %}
    </table>
  </div>
  {% else %}
  <p>No disposed materials yet.</p>
  {% endif %}

</div>

{% endblock %}
